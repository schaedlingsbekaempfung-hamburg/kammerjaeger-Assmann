function PrivacyControl(e){if(void 0!==window.pCinit)return!1;window.pCinit=!0;let E=this;E.options=Object.assign({sessionName:"privacy-control",force:!1,badge:!0,badgePos:"vert-left",safeSurfer:!0,placeholder:"/securewebapps/evercdn/assets/privacyControl/v3/placeholder/index.html",noteDelay:300,id:"privacy-control"},e);var a,e=document.documentElement.lang.split("-")[0].toLowerCase();E.lang=void 0===E.options.lang?e:E.options.lang,void 0===pCl10n[E.lang]&&(E.lang="en"),E.elms={},E.deps={},E.loaded=[],E.notification=window.notification;try{window.localStorage.setItem,window._storageDisabled=!1,E.localStorage=window.localStorage}catch(e){console.log("sessionStorage and/or localStorage not available, falling back to in-memory storage: ",e),E.localStorage={_items:new Map,setItem(e,a){this._items.set(e,a)},getItem(e){return this._items.has(e)?this._items.get(e):null}},window._storageDisabled=!0}function A(a,e){let t="";try{return void 0!==e&&void 0!==E.options.deps[e].l10n[E.lang][a]?t=E.options.deps[e].l10n[E.lang][a]:"object"==typeof E.options[a]&&void 0!==E.options[a][E.lang]?t=E.options[a][E.lang]:void 0!==pCl10n[E.lang][a]&&(t=pCl10n[E.lang][a]),t}catch(e){return console.log("Translation string missing for: "+a),!1}}function l(e,a,t){var i=[];return i[0]=s("privacy-cell",t),i[0].innerHTML=e,i[1]=s("privacy-cell",t),i[1].innerHTML=a,i}function c(e,a){var t=document.createElement("privacy-row");return t.ariaLabel=e,t.role="row",t.classList.add("privacy-row"),a.appendChild(t),t}function s(e,a,t=!1,i){var n=document.createElement(e);return n.classList.add(e),a&&(t?a.prepend(n):a.appendChild(n)),"privacy-row"==e&&(n.role="row"),"privacy-btn"==e&&(n.role="button"),"privacy-link"==e&&(n.role="link"),"privacy-head"==e&&(n.role="heading"),"privacy-btn"!=e&&"privacy-link"!=e||(n.tabIndex="0"),i&&(n.ariaLabel=i),n}function r(e){try{var a,t=void 0!==e.required&&1==e.required,i=s("privacy-group",E.elms.serviceContainer,t),n=(i.role="rowgroup",i.ariaLabel=A("service")+" "+e.name,E.options.sessionName+":"+e.key),r=s("privacy-row",i,!1,A("settings")),o=(s("privacy-cell",r,!1).innerText=A("accept"),s("privacy-cell",r,!1,A("policy")));o.innerHTML='<label for="'+n+'" id="'+n+'-label" aria-label="'+e.name+": "+A("accept")+'"><input  aria-label="'+e.name+": "+A("accept")+'" id="'+n+'" name="'+e.key+'" type="checkbox" tabindex="0"><service-status class="service-status" aria-hidden="true">'+A("off")+"</services-status></label>",t&&(o.innerHTML='<label for="'+n+'" id="'+n+'-label"><input data-disabled disabled aria-label="'+e.name+": "+A("accept")+'" tabindex="0" checked id="'+n+'" name="'+e.key+'" type="checkbox"><service-status class="service-status" aria-hidden="true">'+A("on")+"</services-status></label>",o.querySelector("service-status").innerText=A("on_forced"),0===(()=>{let e=0,a=pCl10n[E.lang].legal_page,t=pCl10n[E.lang].privacy_page;return a==window.location.pathname&&e++,t==window.location.pathname&&e++,e})())&&(-1==(a=document.querySelector("html")).dataset.privacyControl.indexOf("center")&&(a.dataset.privacyControl+=" center"),-1==a.dataset.privacyControl.indexOf("backdrop"))&&(a.dataset.privacyControl+=" backdrop"),void 0!==e.name&&l(A("name"),e.name,c(A("service")+" "+A("name")+": "+e.name,i)),void 0!==e.provider&&l(A("provider"),e.provider,c(A("service")+" "+A("provider")+": "+e.provider,i)),void 0!==e.l10n[E.lang].description&&l(A("purpose"),e.l10n[E.lang].description,c(A("service")+" "+A("purpose")+": "+e.l10n[E.lang].description,i)),void 0!==e.l10n[E.lang].requirement&&!0===e.required&&l(A("required"),e.l10n[E.lang].requirement,c(A("service")+" "+A("required")+": "+e.l10n[E.lang].requirement,i)),void 0!==e.l10n[E.lang].policy&&l(A("policy"),'<a href="'+e.l10n[E.lang].policy+'" role="link" target="_blank" title="'+A("policy")+'" aria-label="'+A("policy")+" "+e.name+'">Link</a>',c(A("service")+" "+A("policy")+": Link",i)),i.querySelector('[name="'+e.key+'"]').addEventListener("change",e=>{e.target.nextSibling.innerText=e.target.checked?A("on"):A("off")})}catch(e){console.error("addService failed, because your service object is missing some values!",e)}}function M(){var e=E.localStorage.getItem(E.options.sessionName);return null===e||""===e||!1===e?{}:JSON.parse(e)}return E.iframePlaceholder=function(e){let i=e,n=pCServiceTemplates[i];for(var a=document.querySelectorAll("iframe[data-pc-service="+i+"]:not(.enabled):not(.src), iframe[data-iframe="+i+"]:not(.enabled):not(.src)"),t=0;t<a.length;t++){var r=a[t];r.addEventListener("load",function(){try{if(this.classList.contains("enabled"))return!1;i=this.dataset.pcService||this.dataset.iframe,doc=this.contentDocument||this.contentWindow.document;var e=n.l10n[E.lang].policy?'<a href="'+n.l10n[E.lang].policy+'" title="'+A("policy")+" "+n.name+'" target="_blank">'+n.l10n[E.lang].policy+"</a>":"";doc.body.innerHTML=doc.body.innerHTML.replaceAll("{{policy}}",e),doc.body.innerHTML=doc.body.innerHTML.replaceAll("{{name}}",n.name),doc.body.innerHTML=doc.body.innerHTML.replaceAll("{{activate}}",A("activate")),doc.body.innerHTML=doc.body.innerHTML.replaceAll("{{msg}}",n.l10n[E.lang].description),doc.body.innerHTML=doc.body.innerHTML.replaceAll("{{provider}}",A("provider")),doc.body.innerHTML=doc.body.innerHTML.replaceAll("{{providerName}}",n.provider),doc.body.innerHTML=doc.body.innerHTML.replaceAll("{{key}}",i),doc.body.innerHTML=doc.body.innerHTML.replaceAll("{{open_infobox}}",A("open_infobox")),doc.body.innerHTML=doc.body.innerHTML.replaceAll("{{close_infobox}}",A("close_infobox")),doc.head.innerHTML=doc.head.innerHTML.replaceAll("{{iframe_title}}",A("settings")+": "+n.name),doc.body.id=i,doc.body.classList.add("enabled"),doc.querySelector("html").lang=E.lang,n.css&&(doc.head.innerHTML+='<link rel="stylesheet" href="'+n.css+'"></link>'),a=doc,(t=a.querySelector(".infoOpen"))&&t.addEventListener("click",function(e){e.preventDefault(),a.querySelector(".infoBox").classList.add("open"),a.querySelector(".infoOpen").classList.add("hide")}),a.querySelector(".infoClose").addEventListener("click",function(e){e.preventDefault(),a.querySelector(".infoBox").classList.remove("open"),a.querySelector(".infoOpen").classList.remove("hide")}),a.querySelector(".accept").addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();e=document.activeElement.dataset.iframe||document.activeElement.dataset.pcService;E.set(e,!0),!0===E.deps[e].forceReload&&window.location.reload()},!1)}catch(e){console.log("Can't handle the placeholder. The service options are broken: "+i)}var a,t}),r.dataset.lang=document.querySelector("html").lang,r.src=E.options.placeholder+"?key="+i}return!0},E.set=function(e,a){var t=M();try{var i,n=t[e],r=(t[e]=a,E.elms.serviceContainer.querySelector('input[name="'+e+'"]')),o=(r.checked=a,r.nextSibling.innerText=A(a?"on":"off"),pCServiceTemplates[e].type);if(a){var l,c,s,d=e,p=o;if(!0!==E.loaded[d]){switch(!pCServiceTemplates[d].src&&pCServiceTemplates[d].assets&&(pCServiceTemplates[d].src=pCServiceTemplates[d].assets),p){case"script":try{if(void 0!==pCServiceTemplates[d].src){var v=pCServiceTemplates[d].src;"object"!=typeof v&&(v=[v]),rIt({"*":{assets:v,function:pCServiceTemplates[d].callback}})}else for(var m=document.querySelectorAll('script[data-script="'+d+'"], script[data-pc-service="'+d+'"]'),f=0,y=m.length;f<y;f++)f==y-1&&m[f].addEventListener("load",pCServiceTemplates[d].callback),m[f].src=m[f].dataset.pcAsset;for(l of document.querySelectorAll('iframe[data-pc-service="'+d+'"]'))l.classList.add("enabled","hide")}catch(e){console.log("Could not load script for "+d+", no src defined.")}break;case"iframe":var u,b=document.querySelectorAll('[data-iframe="'+d+'"], iframe[data-pc-service="'+d+'"]');for(f in b)"object"==typeof b[f]&&b[f].dataset&&(b[f].pcAsset,u=b[f].dataset.pcAsset||b[f].dataset.src,b[f].src=u,b[f].classList.add("enabled","pcLoaded"),b[f].classList.remove("pcUnloaded"),b[f].dataset.frameId=(new Date).getTime());break;case"image":for(c of document.querySelectorAll('img[data-pc-service="'+d+'"]')){c.src;c.src=c.dataset.pcAsset,c.classList.add("pcLoaded"),c.classList.remove("pcUnloaded")}for(s of document.querySelectorAll('iframe[data-pc-service="'+d+'"]'))s.classList.add("enabled","hide")}E.loaded[d]=!0,window.dispatchEvent(new CustomEvent("PCDepLoad",{detail:{key:d}}))}}else{var g=e,L=o;if(!1!==E.loaded[g]){var h,S,C=document.querySelectorAll('iframe[data-pc-service="'+g+'"]');switch(L){case"iframe":var T,w=document.querySelectorAll('[data-iframe="'+g+'"], iframe[data-pc-service="'+g+'"]');for(T in w)"object"==typeof w[T]&&w[T].dataset&&(w[T].classList.remove("enabled","pcLoaded"),w[T].classList.add("pcUnloaded"));break;case"image":for(h of document.querySelectorAll('img[data-pc-service="'+g+'"]'))h.src="",h.classList.remove("pcLoaded"),h.classList.add("pcUnloaded");for(S of C)S.classList.remove("enabled","hide");break;case"script":for(var k of C)k.classList.remove("enabled","hide")}E.iframePlaceholder(g),E.loaded[g]=!1,void 0!==pCServiceTemplates[g].callbackOnDisable&&"function"==typeof pCServiceTemplates[g].callbackOnDisable?pCServiceTemplates[g].callbackOnDisable():void 0!==pCServiceTemplates[g].callbackOnDisable&&"string"==typeof pCServiceTemplates[g].callbackOnDisable&&window[pCServiceTemplates[g].callbackOnDisable](),window.dispatchEvent(new CustomEvent("PCDepUnload",{detail:{key:g}}))}}if(E.localStorage.setItem(E.options.sessionName,JSON.stringify(t)),!pCServiceTemplates[e])throw new Error("Key "+e+" is missing in the PrivacyControl deps configuration object.");if(0==a&&a!==n&&void 0!==pCServiceTemplates[e].forceReloadOnDisable&&!0===pCServiceTemplates[e].forceReloadOnDisable&&window.location.reload(),a)for(i of document.querySelectorAll('a[data-privacy-control="'+e+'"]'))i.classList.add("activated","granted");window.dispatchEvent(new CustomEvent("PCOnSet",{detail:{key:e,status:a}}))}catch(e){console.error(e)}return t},E.get=function(e){var a=M();return"all"==e?a:a[e]},E.closeSettings=()=>{E.notification.close(E.elms.modal.parentElement.parentElement.id),document.body.classList.remove("privacy-control-is-open"),E.elms.pCBadge&&(E.elms.pCBadge.classList.remove("hide"),E.elms.pCBadge.tabIndex="0")},E.openSettings=function(e,a=!0){return e&&e.preventDefault(),E.notification.open("privacy-control",a),E.elms.modal.classList.add("open"),E.elms.openSettings.classList.add("hide"),E.elms.serviceContainer.setAttribute("tabindex","0"),document.body.classList.add("privacy-control-is-open"),E.elms.pCBadge&&(E.elms.pCBadge.tabIndex="-1",E.elms.pCBadge.classList.add("hide")),E.elms.modal.classList.contains("open")},E.addService=function(e){var a;E.elms.safeSurferBadge instanceof HTMLElement&&(E.elms.safeSurferBadge.remove(),delete E.elms.safeSurferBadge),E.elms.pCBadge instanceof HTMLElement==0&&!0===E.options.badge&&(E.elms.pCBadge=((a=document.createElement("badge")).role="button",a.tabIndex="0",a.setAttribute("aria-controls",E.options.id),a.classList.add("privacy-control-badge",E.options.badgePos),(i=document.createElement("SPAN")).innerText=A("badge"),a.appendChild(i),a.addEventListener("click",E.openSettings),document.body.appendChild(a),a)),E.elms.pCModal instanceof HTMLElement==0&&(E.elms.pCModal=(()=>{E.elms.modal=s("privacy-controller"),E.elms.modal.role="form",E.elms.modal.id="privacy-controller",(a=s("privacy-header",E.elms.modal)).id="privacy-header",s("privacy-head",a).innerHTML=A("intro");var e,a=s("privacy-buttons",a),t=((a=s("privacy-btn",a)).id="privacy-open",a.setAttribute("href","#privacy-controller"),a.innerHTML=A("settings"),a.addEventListener("click",E.openSettings),E.elms.serviceContainer=s("privacy-fields"),E.elms.serviceContainer.role="table",E.elms.serviceContainer.ariaLabel=A("edit_settings"),E.elms.modal.appendChild(E.elms.serviceContainer),s("privacy-submits",E.elms.modal)),i=s("privacy-btn",t),n=(i.id="privacy-save",i.setAttribute("href","#privacy-controller"),i.innerHTML=A("save"),i.addEventListener("click",function(){var e;let a=!1;for(e of E.elms.serviceContainer.querySelectorAll('input[type="checkbox"]'))!0===E.deps[e.name].forceReload&&(a=!0),E.set(e.name,e.checked);a&&window.location.reload(),E.closeSettings()}),(t=s("privacy-btn",t)).id="privacy-confirm",t.setAttribute("href","#privacy-confirm"),t.innerHTML=A("confirm"),t.addEventListener("click",function(){for(var e in E.deps)E.set(e,!0);E.closeSettings()}),s("privacy-footer",E.elms.modal)),r=s("privacy-link",n);if(r.role="button",r.id="privacy-reset",r.classList.add("privacy-reset"),r.innerHTML=A("reset"),r.addEventListener("click",function(){E.localStorage.setItem(E.options.sessionName,""),window.location.reload()}),(r=A("legal_page"))&&""!=r&&((e=s("privacy-link",n)).setAttribute("href",r),e.innerHTML=A("legal_notice"),e.addEventListener("click",function(){window.location=this.getAttribute("href")})),(r=A("privacy_page"))&&""!=r&&((e=s("privacy-link",n)).setAttribute("href",r),e.innerHTML=A("policy"),e.addEventListener("click",function(){window.location=this.getAttribute("href")})),n=document.querySelectorAll('a[href="#privacy-controller"]'))for(var o of n)o.addEventListener("click",E.openSettings);return E.notification.add({sessionName:E.options.sessionName,id:E.options.id,message:E.elms.modal,saveState:!E.options.force,remove:!1,delay:E.options.noteDelay,focus:!0,role:"dialog",label:A("badge")}),E.elms.save=i,E.elms.openSettings=a,E.elms.submit=t,E.elms.modal})(),E.elms.pCBadge)&&!E.elms.modal.parentElement.parentElement.classList.contains("hide")&&(E.elms.pCBadge.classList.add("hide"),E.elms.pCBadge.tabIndex="-1");let t=!1;if("object"!=typeof e||Array.isArray(e)||null===e||(t=e),r(t="string"!=typeof e||"object"!=typeof pCServiceTemplates[e]||Array.isArray(pCServiceTemplates[e])?t:pCServiceTemplates[e]),"object"!=typeof pCServiceTemplates[e]?pCServiceTemplates[e.key]=t:pCServiceTemplates=((e,a)=>{for(var t in a)!1===a[t]&&delete e[t];return e})(pCServiceTemplates,t),t&&t.type)switch(t.type){case"iframe":case"image":case"script":E.iframePlaceholder(t.key)}var i=document.querySelectorAll('a[data-privacy-control="'+t.key+'"]');if(i)for(var n of i)n.addEventListener("click",function(e){e.preventDefault(),E.set(this.dataset.privacyControl,!0),!0===E.deps[this.dataset.privacyControl].forceReload&&window.location.reload()});return E.deps[t.key]=t,E.get(t.key)&&E.set(t.key,!0),E},(e=E).options.badge&&(e.elms.safeSurferBadge=((a=document.createElement("badge")).ariaHidden="true",a.classList.add("safe-surfer-badge"),a.innerHTML=pCsafeSurfer.icon+'<span class="safe-surfer-msg">'+A("safeSurfer")+"</span>",document.body.appendChild(a),a.addEventListener("click",function(e){e.preventDefault(),this.classList.toggle("expand")}),a)),window.dispatchEvent(new CustomEvent("privacy-control-init",{detail:e})),window.dispatchEvent(new CustomEvent("PCInit",{detail:e})),window.privacyControl=e}